import{f as c,a as n,c as sa}from"../chunks/DwaBocJP.js";import{i as ta}from"../chunks/Cn36vQlI.js";import{o as ra}from"../chunks/CbLRd9uU.js";import{z as va,A as W,B as oa,C as v,D as a,c as _,m as k,F as e,b as t,G as ia}from"../chunks/D8pH6ZKL.js";import{e as G,s as u}from"../chunks/DMOeGUlm.js";import{i as N}from"../chunks/BXZ4KMWb.js";import{e as na,s as la,i as ca}from"../chunks/CaL8-jqQ.js";import{s as da}from"../chunks/CeRkQ_jF.js";import{a as I}from"../chunks/D_yn4hlI.js";import{g as pa}from"../chunks/D11uLj64.js";import{b as L}from"../chunks/DZFsq0ZI.js";import{t as A}from"../chunks/DEEbTplX.js";var ua=c('<div class="loading">Loading...</div>'),ma=c('<div class="error"> </div>'),fa=c('<div class="empty-state svelte-1n2yjwv">No warehouses found. Create one to start.</div>'),_a=c('<div class="card wh-card svelte-1n2yjwv"><div class="card-body svelte-1n2yjwv"><h3 class="svelte-1n2yjwv"> </h3> <p class="desc svelte-1n2yjwv"> </p></div> <div class="card-footer svelte-1n2yjwv"><div class="stat svelte-1n2yjwv"><span class="label svelte-1n2yjwv">Racks</span> <span class="value svelte-1n2yjwv"> </span></div> <div class="stat svelte-1n2yjwv"><span class="label svelte-1n2yjwv">Status</span> <span> </span></div></div></div>'),ha=c('<div class="grid-container svelte-1n2yjwv"><!> <!></div>'),ya=c('<div class="warehouse-page"><header class="svelte-1n2yjwv"><h1 class="svelte-1n2yjwv">Warehouses</h1> <div class="actions"><a class="action-btn secondary svelte-1n2yjwv">Blueprint Editor</a> <button class="action-btn primary svelte-1n2yjwv">+ New Warehouse</button></div></header> <!></div>');function Fa(M,R){va(R,!1);let d=k([]),B=k(!0),h=k(null);ra(async()=>{await q()});async function q(){try{_(d,await I.get("/api/warehouse"))}catch(s){_(h,s.message),A.add("Failed to load warehouses","error")}finally{_(B,!1)}}async function H(){const s=prompt("Enter warehouse name:");if(s)try{const o=await I.post("/api/warehouse",{name:s});A.add("Warehouse created","success"),_(d,[...t(d),o])}catch(o){A.add(o.message,"error")}}function J(s){pa(`${L}/dashboard/warehouse/${s}`)}ta();var y=ya(),w=a(y),C=v(a(w),2),E=a(C),K=v(E,2);e(C),e(w);var O=v(w,2);{var P=s=>{var o=ua();n(s,o)},Q=s=>{var o=sa(),T=ia(o);{var U=l=>{var i=ma(),m=a(i,!0);e(i),W(()=>u(m,t(h))),n(l,i)},V=l=>{var i=ha(),m=a(i);{var X=p=>{var r=fa();n(p,r)};N(m,p=>{t(d).length===0&&p(X)})}var Y=v(m,2);na(Y,1,()=>t(d),ca,(p,r)=>{var f=_a(),b=a(f),j=a(b),Z=a(j,!0);e(j);var F=v(j,2),$=a(F,!0);e(F),e(b);var S=v(b,2),g=a(S),z=v(a(g),2),aa=a(z,!0);e(z),e(g);var D=v(g,2),x=v(a(D),2),ea=a(x,!0);e(x),e(D),e(S),e(f),W(()=>{u(Z,t(r).name),u($,t(r).description||"No description"),u(aa,t(r).racks?t(r).racks.length:0),la(x,1,`value status ${t(r).is_active?"active":"inactive"}`,"svelte-1n2yjwv"),u(ea,t(r).is_active?"Active":"Inactive")}),G("click",f,()=>J(t(r).id)),n(p,f)}),e(i),n(l,i)};N(T,l=>{t(h)?l(U):l(V,!1)},!0)}n(s,o)};N(O,s=>{t(B)?s(P):s(Q,!1)})}e(y),W(()=>da(E,"href",`${L??""}/dashboard/warehouse/blueprint`)),G("click",K,H),n(M,y),oa()}export{Fa as component};
