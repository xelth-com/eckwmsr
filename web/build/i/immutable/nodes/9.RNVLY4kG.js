import{f as i,a as l,c as et}from"../chunks/DwaBocJP.js";import{i as st}from"../chunks/Cn36vQlI.js";import{o as rt}from"../chunks/CbLRd9uU.js";import{z as ot,B as ct,D as e,C as o,c as w,m as M,F as a,b as s,G as lt,A as L}from"../chunks/D8pH6ZKL.js";import{e as F,s as d}from"../chunks/DMOeGUlm.js";import{i as D}from"../chunks/BXZ4KMWb.js";import{e as vt,s as dt,i as it}from"../chunks/CaL8-jqQ.js";import{a as ut}from"../chunks/D_yn4hlI.js";import{g as z}from"../chunks/D11uLj64.js";import{t as nt}from"../chunks/DEEbTplX.js";var ht=i('<div class="loading">Loading requests...</div>'),bt=i('<div class="error"> </div>'),mt=i('<div class="empty-state svelte-rb4uhc">No RMA requests found.</div>'),ft=i('<tr class="svelte-rb4uhc"><td class="code svelte-rb4uhc"> </td><td class="svelte-rb4uhc"> </td><td class="code-sm svelte-rb4uhc"> </td><td class="svelte-rb4uhc"> </td><td class="svelte-rb4uhc"><span> </span></td></tr>'),_t=i('<div class="table-container svelte-rb4uhc"><!> <table class="rma-table svelte-rb4uhc"><thead><tr class="svelte-rb4uhc"><th class="svelte-rb4uhc">RMA #</th><th class="svelte-rb4uhc">Customer</th><th class="svelte-rb4uhc">Product SKU</th><th class="svelte-rb4uhc">Date</th><th class="svelte-rb4uhc">Status</th></tr></thead><tbody></tbody></table></div>'),pt=i('<div class="rma-page"><header class="svelte-rb4uhc"><h1 class="svelte-rb4uhc">RMA Requests</h1> <div class="actions"><button class="action-btn primary svelte-rb4uhc">+ New Request</button></div></header> <!></div>');function qt(B,G){ot(G,!1);let m=M([]),N=M(!0),f=M(null);rt(async()=>{await K()});async function K(){try{w(m,await ut.get("/rma"))}catch(t){console.error(t),w(f,t.message),nt.add("Failed to load RMAs","error")}finally{w(N,!1)}}function P(t){z(`/dashboard/rma/${t}`)}function U(){z("/dashboard/rma/new")}function j(t){return t?new Date(t).toLocaleDateString():"-"}st();var _=pt(),p=e(_),k=o(e(p),2),E=e(k);a(k),a(p);var H=o(p,2);{var I=t=>{var n=ht();l(t,n)},J=t=>{var n=et(),O=lt(n);{var Q=v=>{var c=bt(),h=e(c,!0);a(c),L(()=>d(h,s(f))),l(v,c)},T=v=>{var c=_t(),h=e(c);{var V=u=>{var r=mt();l(u,r)};D(h,u=>{s(m).length===0&&u(V)})}var q=o(h,2),S=o(e(q));vt(S,5,()=>s(m),it,(u,r)=>{var b=ft(),g=e(b),W=e(g,!0);a(g);var x=o(g),X=e(x,!0);a(x);var y=o(x),Y=e(y,!0);a(y);var A=o(y),Z=e(A,!0);a(A);var C=o(A),R=e(C),$=e(R,!0);a(R),a(C),a(b),L((tt,at)=>{d(W,s(r).rmaNumber),d(X,s(r).customerName),d(Y,s(r).productSku),d(Z,tt),dt(R,1,`status-badge ${at??""}`,"svelte-rb4uhc"),d($,s(r).status)},[()=>j(s(r).createdAt),()=>s(r).status.toLowerCase()]),F("click",b,()=>P(s(r).id)),l(u,b)}),a(S),a(q),a(c),l(v,c)};D(O,v=>{s(f)?v(Q):v(T,!1)},!0)}l(t,n)};D(H,t=>{s(N)?t(I):t(J,!1)})}a(_),F("click",E,U),l(B,_),ct()}export{qt as component};
