import{a as i,f as n}from"../chunks/BygaA0WS.js";import{i as Z}from"../chunks/BqIW1Qmb.js";import{z as $,G as aa,A as g,B as ea,C as o,D as e,c as m,F as s,b as r,m as x}from"../chunks/CN5Z31N9.js";import{e as S,s as d}from"../chunks/DAV6nA3v.js";import{i as z}from"../chunks/CU63fefz.js";import{e as sa,s as ta,i as ra}from"../chunks/DFBiLcyC.js";import{s as va}from"../chunks/BZk0zrkd.js";import{a as D}from"../chunks/Nceboc1J.js";import{g as oa}from"../chunks/D6cZGLQe.js";import{b as G}from"../chunks/BODtoanW.js";import{t as W}from"../chunks/DycCOpGa.js";var ia=n('<div class="loading">Loading...</div>'),na=n('<div class="error"> </div>'),la=n('<div class="empty-state svelte-1n2yjwv">No warehouses found. Create one to start.</div>'),ca=n('<div class="card wh-card svelte-1n2yjwv"><div class="card-body svelte-1n2yjwv"><h3 class="svelte-1n2yjwv"> </h3> <p class="desc svelte-1n2yjwv"> </p></div> <div class="card-footer svelte-1n2yjwv"><div class="stat svelte-1n2yjwv"><span class="label svelte-1n2yjwv">Racks</span> <span class="value svelte-1n2yjwv"> </span></div> <div class="stat svelte-1n2yjwv"><span class="label svelte-1n2yjwv">Status</span> <span> </span></div></div></div>'),da=n('<div class="grid-container svelte-1n2yjwv"><!> <!></div>'),pa=n('<div class="warehouse-page"><header class="svelte-1n2yjwv"><h1 class="svelte-1n2yjwv">Warehouses</h1> <div class="actions"><a class="action-btn secondary svelte-1n2yjwv">Blueprint Editor</a> <button class="action-btn primary svelte-1n2yjwv">+ New Warehouse</button></div></header> <!></div>');function Wa(I,L){$(L,!1);let l=x([]),k=x(!0),_=x(null);aa(async()=>{await M()});async function M(){try{m(l,await D.get("/api/warehouse"))}catch(a){m(_,a.message),W.add("Failed to load warehouses","error")}finally{m(k,!1)}}async function R(){const a=prompt("Enter warehouse name:");if(a)try{const t=await D.post("/api/warehouse",{name:a});W.add("Warehouse created","success"),m(l,[...r(l),t])}catch(t){W.add(t.message,"error")}}function q(a){oa(`${G}/dashboard/warehouse/${a}`)}Z();var f=pa(),h=e(f),N=o(e(h),2),A=e(N),H=o(A,2);s(N),s(h);var J=o(h,2);{var K=a=>{var t=ia();i(a,t)},O=a=>{var t=na(),p=e(t,!0);s(t),g(()=>d(p,r(_))),i(a,t)},P=a=>{var t=da(),p=e(t);{var Q=c=>{var v=la();i(c,v)};z(p,c=>{r(l).length===0&&c(Q)})}var T=o(p,2);sa(T,1,()=>r(l),ra,(c,v)=>{var u=ca(),y=e(u),w=e(y),U=e(w,!0);s(w);var B=o(w,2),V=e(B,!0);s(B),s(y);var C=o(y,2),b=e(C),E=o(e(b),2),X=e(E,!0);s(E),s(b);var F=o(b,2),j=o(e(F),2),Y=e(j,!0);s(j),s(F),s(C),s(u),g(()=>{d(U,r(v).name),d(V,r(v).description||"No description"),d(X,r(v).racks?r(v).racks.length:0),ta(j,1,`value status ${r(v).is_active?"active":"inactive"}`,"svelte-1n2yjwv"),d(Y,r(v).is_active?"Active":"Inactive")}),S("click",u,()=>q(r(v).id)),i(c,u)}),s(t),i(a,t)};z(J,a=>{r(k)?a(K):r(_)?a(O,1):a(P,!1)})}s(f),g(()=>va(A,"href",`${G??""}/dashboard/warehouse/blueprint`)),S("click",H,R),i(I,f),ea()}export{Wa as component};
